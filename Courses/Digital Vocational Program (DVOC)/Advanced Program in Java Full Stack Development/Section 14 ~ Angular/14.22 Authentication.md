### [[14.16 Angular Routing]]

This link leads to the note that covers the Angular routing setup, which is a prerequisite for this project.

---

## **Create the `Model` Folder and User Class**

1. **Create Folder**: Create a folder called `Model` to store your models.
    
2. **Open Integrated Terminal**: Right-click the folder and choose **"Open Integrated Terminal"**.
    
3. **Generate the User Class**: Run the following command to generate a new class for `User`:
    
    ```bash
    ng g class user
    ```
    
4. **Add Code to `user.ts`**: Replace the generated content in `user.ts` with the following code:
    
    ```typescript
    export class User {
      id: number;
      name: string;
      username: string;
      password: string;
    
      constructor(id: number, name: string, username: string, password: string) {
        this.id = id;
        this.name = name;
        this.username = username;
        this.password = password;
      }
    }
    ```
    

This class will represent a `User` in your application with basic properties such as `id`, `name`, `username`, and `password`.

---

## **Create the `Service` Folder and Services**

1. **Create Folder**: Create a folder called `Service` to store your services.
    
2. **Open Integrated Terminal**: Right-click the folder and select **"Open Integrated Terminal"**.
    
3. **Generate Services**: Run the following commands to create the `user` and `auth` services:
    
    ```bash
    ng g service user
    ng g service auth
    ```
    
4. **Add Code to `user.service.ts`**: Open the file `user.service.ts` and replace its content with the following:
    
    ```typescript
    import { Injectable } from '@angular/core';
    import { User } from '../Models/user';
    
    @Injectable({
      providedIn: 'root'
    })
    export class UserService {
      users: User[] = [
        new User(101, "Rohan Sharma", "rs", "pass1234"),
        new User(102, "Arun Kohli", "ak", "pass1234"),
        new User(103, "Vijay Patwa", "vp", "pass1234"),
        new User(104, "Girish Shah", "gs", "pass1234"),
        new User(105, "Gaurang Kelkar", "gk", "pass1234")
      ];
    
      constructor() { }
    }
    ```
    
    This service will manage a list of `User` objects.
    
5. **Add Code to `auth.service.ts`**: Open the `auth.service.ts` file and add the following code:
    
    ```typescript
    import { Injectable } from '@angular/core';
    import { UserService } from './user.service';
    
    @Injectable({
      providedIn: 'root'
    })
    export class AuthService {
      constructor(private userser: UserService) { }
    
      login(uname: string, pass: string) {
        let user = this.userser.users.find(u => u.username == uname && u.password == pass);
        return user;
      }
    }
    ```
    
    This service handles the authentication logic by verifying the username and password.
    

---

## **Design Components and Check Routing**

Design the necessary components for your application (e.g., login, contact us, etc.). Implement routing as outlined in your previous note. You should ensure that the routes are correctly set up and that the login functionality is working as intended.

---

## **Create the Login Page (`login.component.html`)**

1. Open `login.component.html` and add the following HTML code to create the login form:
    
    ```html
    <h1>Login:</h1>
    <hr/>
    <form>
      <table>
        <tr>
          <td>UserName:</td>
          <td><input type="text" name="username" [(ngModel)]="usname"></td>
        </tr>
        <tr>
          <td>Password:</td>
          <td><input type="password" name="password" [(ngModel)]="passwd"></td>
        </tr>
        <tr colspan="1">
          <td><button (click)="loginUser()">Login</button></td>
        </tr>
      </table>
    </form>
    ```
    
    This HTML form includes fields for the username and password, and a login button to trigger the login logic.
    

---

## **Handle Login Logic in `login.component.ts`**

1. Open `login.component.ts` and add the following code to handle the user login functionality:
    
    ```typescript
    import { Component } from '@angular/core';
    import { AuthService } from './auth.service';
    import { Router } from '@angular/router';
    
    @Component({
      selector: 'app-login',
      templateUrl: './login.component.html'
    })
    export class LoginComponent {
      usname: string = "";
      passwd: string = "";
    
      constructor(private getuserser: AuthService, private myroute: Router) {}
    
      loginUser() {
        let retuser = this.getuserser.login(this.usname, this.passwd);
        if (retuser == undefined) {
          alert("Invalid User");
          this.myroute.navigateByUrl("/login");
        } else {
          alert("Welcome " + retuser.name + " You are a Valid User");
          this.myroute.navigateByUrl("/contactus");
        }
      }
    }
    ```
    
    This component contains the login logic:
    
    - It checks if the user exists by calling the `AuthService`.
        
    - If the user is valid, it redirects to the "Contact Us" page; otherwise, it stays on the login page.
        

---

## Final Notes:

- **Routing**: Ensure that routing is correctly configured in the `app-routing.module.ts` file (as per your previous note) to navigate between pages like login and contact us.
    
- **Run the Application**: After implementing the components and services, run your application to test the login functionality:
    
    ```bash
    ng serve
    ```